create_golkonda_scripted_effect = {
	add_prestige = medium_prestige_gain
	#If under a liege, make independent.
	if = {
		limit = {
			is_independent_ruler = no
		}
		if = {
			limit = {
				NOT = {
					exists = scope:former_liege
				}
			}
			liege = {
				save_scope_as = former_liege
			}
		}
		create_title_and_vassal_change = {
			type = independency
			save_scope_as = change
			add_claim_on_loss = no
		}
		change_liege_or_become_independent = {
			CHANGE = scope:change
			VASSAL = this
		}
		hidden_effect = {
			add_truce_both_ways = {
				character = scope:former_liege
				days = 1825
				name = TRUCE_GRANT_INDEPENDENCE_ROOT
			}
		}
		resolve_title_and_vassal_change = scope:change
	}
	create_title_and_vassal_change = {
		type = created
		save_scope_as = new_rum
		add_claim_on_loss = no
	}
	title:k_golkonda = {
		change_title_holder = {
			holder = root
			change = scope:new_rum
		}
		set_can_be_named_after_dynasty = no
	}
	resolve_title_and_vassal_change = scope:new_rum
	if = {
		limit = {
			exists = scope:former_liege
		}
		scope:former_liege = {
			add_prestige = major_prestige_loss
			add_unpressed_claim = title:k_golkonda #Give chance to retaliate
			add_opinion = {
				target = root
				modifier = pretender_opinion
			}
		}
	}
	hidden_effect = { set_primary_title_to = title:k_golkonda }
}